{"ast":null,"code":"/*!\n * assertion-error\n * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>\n * MIT Licensed\n */\n\n/*!\n * Return a function that will copy properties from\n * one object to another excluding any originally\n * listed. Returned function will create a new `{}`.\n *\n * @param {String} excluded properties ...\n * @return {Function}\n */\nfunction exclude() {\n  var excludes = [].slice.call(arguments);\n\n  function excludeProps(res, obj) {\n    Object.keys(obj).forEach(function (key) {\n      if (!~excludes.indexOf(key)) res[key] = obj[key];\n    });\n  }\n\n  return function extendExclude() {\n    var args = [].slice.call(arguments),\n        i = 0,\n        res = {};\n\n    for (; i < args.length; i++) {\n      excludeProps(res, args[i]);\n    }\n\n    return res;\n  };\n}\n\n;\n/*!\n * Primary Exports\n */\n\nmodule.exports = AssertionError;\n/**\n * ### AssertionError\n *\n * An extension of the JavaScript `Error` constructor for\n * assertion and validation scenarios.\n *\n * @param {String} message\n * @param {Object} properties to include (optional)\n * @param {callee} start stack function (optional)\n */\n\nfunction AssertionError(message, _props, ssf) {\n  var extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON'),\n      props = extend(_props || {}); // default values\n\n  this.message = message || 'Unspecified AssertionError';\n  this.showDiff = false; // copy from properties\n\n  for (var key in props) {\n    this[key] = props[key];\n  } // capture stack trace\n\n\n  ssf = ssf || AssertionError;\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, ssf);\n  } else {\n    try {\n      throw new Error();\n    } catch (e) {\n      this.stack = e.stack;\n    }\n  }\n}\n/*!\n * Inherit from Error.prototype\n */\n\n\nAssertionError.prototype = Object.create(Error.prototype);\n/*!\n * Statically set name\n */\n\nAssertionError.prototype.name = 'AssertionError';\n/*!\n * Ensure correct constructor\n */\n\nAssertionError.prototype.constructor = AssertionError;\n/**\n * Allow errors to be converted to JSON for static transfer.\n *\n * @param {Boolean} include stack (default: `true`)\n * @return {Object} object that can be `JSON.stringify`\n */\n\nAssertionError.prototype.toJSON = function (stack) {\n  var extend = exclude('constructor', 'toJSON', 'stack'),\n      props = extend({\n    name: this.name\n  }, this); // include stack if exists and not turned off\n\n  if (false !== stack && this.stack) {\n    props.stack = this.stack;\n  }\n\n  return props;\n};","map":null,"metadata":{},"sourceType":"script"}